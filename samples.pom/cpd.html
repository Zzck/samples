<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>universAAL Samples Suite &#x2013; CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                universAAL Samples Suite
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017</span>
                  &nbsp;| <span id="projectVersion">Version: 3.4.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="./" title="universAAL Samples Suite">universAAL Samples Suite</a>
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../platform/index.html" title="universAAL Super POM">universAAL Super POM</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="../integration.tests/test.ctxt.bus/index.html" title="universAAL Samples Context bus tester">universAAL Samples Context bus tester</a>
            </li>
                  <li class="none">
                          <a href="../integration.tests/test.ctxt.bus.mobiledroid/index.html" title="universAAL Samples Context bus tester for Android">universAAL Samples Context bus tester for Android</a>
            </li>
                  <li class="none">
                          <a href="../integration.tests/test.serv.bus/index.html" title="universAAL Samples Service bus tester">universAAL Samples Service bus tester</a>
            </li>
                  <li class="none">
                          <a href="../integration.tests/test.serv.server/index.html" title="universAAL Samples Service bus Test Server">universAAL Samples Service bus Test Server</a>
            </li>
                  <li class="none">
                          <a href="../integration.tests/test.ui.bus/index.html" title="universAAL Samples UI bus tester">universAAL Samples UI bus tester</a>
            </li>
                  <li class="none">
                          <a href="../lighting/smp.lighting.server.osgi/index.html" title="universAAL Samples Lighting Server (OSGi)">universAAL Samples Lighting Server (OSGi)</a>
            </li>
                  <li class="none">
                          <a href="../lighting/smp.lighting.client.osgi/index.html" title="universAAL Samples Lighting Client (OSGi)">universAAL Samples Lighting Client (OSGi)</a>
            </li>
                  <li class="none">
                          <a href="../lighting/smp.lighting.uiclient.osgi/index.html" title="universAAL Samples Lighting UI Client">universAAL Samples Lighting UI Client</a>
            </li>
                  <li class="none">
                          <a href="../../../ontology/ont.pom/ont.tutorial/index.html" title="universAAL Samples Ontology Tutorial Example">universAAL Samples Ontology Tutorial Example</a>
            </li>
                  <li class="none">
                          <a href="../simple.ui/index.html" title="universAAL Samples Simple UI">universAAL Samples Simple UI</a>
            </li>
                  <li class="none">
                          <a href="../smp.sensor.simulator.gui/index.html" title="universAAL Samples Sensor Simulator GUI">universAAL Samples Sensor Simulator GUI</a>
            </li>
                  <li class="none">
                          <a href="../lighting/smp.activityhub.client/index.html" title="universAAL Samples Activity Hub Client">universAAL Samples Activity Hub Client</a>
            </li>
                  <li class="none">
                          <a href="../activityhub/smp.activityhub.simulator/index.html" title="universAAL Samples LDDI Simulator of ActivityHub events (ISO 11073-10471)">universAAL Samples LDDI Simulator of ActivityHub events (ISO 11073-10471)</a>
            </li>
                  <li class="none">
                          <a href="../lighting/smp.device.client/index.html" title="universAAL Samples Device Client">universAAL Samples Device Client</a>
            </li>
                  <li class="none">
                          <a href="../smp.mw.broker.client/index.html" title="universAAL Samples Middleware Broker Client">universAAL Samples Middleware Broker Client</a>
            </li>
                  <li class="none">
                          <a href="../smp.mw.deploymanager.client/index.html" title="universAAL Samples Middleware Deploy Client">universAAL Samples Middleware Deploy Client</a>
            </li>
                  <li class="none">
                          <a href="../utils/smp.utils.server/index.html" title="universAAL Samples Utilities Example Server">universAAL Samples Utilities Example Server</a>
            </li>
                  <li class="none">
                          <a href="../utils/smp.utils.client/index.html" title="universAAL Samples Utilities Example Client">universAAL Samples Utilities Example Client</a>
            </li>
                  <li class="none">
                          <a href="../utils/smp.utils.app/index.html" title="universAAL Samples Utilities Example App">universAAL Samples Utilities Example App</a>
            </li>
                  <li class="none">
                          <a href="../utils/smp.utils.mini/index.html" title="universAAL Samples Utilities Example Mini-App">universAAL Samples Utilities Example Mini-App</a>
            </li>
                  <li class="none">
                          <a href="../karaf/mw.karaf.feature.lighting-uAAL.osgi/index.html" title="universAAL Samples Middleware Karaf Feature Lighting">universAAL Samples Middleware Karaf Feature Lighting</a>
            </li>
                  <li class="none">
                          <a href="../karaf/mw.karaf.feature.ping-pong.osgi/index.html" title="universAAL Samples Middleware Karaf Feature Ping-Pong">universAAL Samples Middleware Karaf Feature Ping-Pong</a>
            </li>
                  <li class="none">
                          <a href="../aapi/ont.lighting.simple/index.html" title="universAAL Samples AAPI Simplified Lighting Ontology">universAAL Samples AAPI Simplified Lighting Ontology</a>
            </li>
                  <li class="none">
                          <a href="../aapi/smp.lighting.server-regular/index.html" title="universAAL Samples AAPI Regular Lighting Server">universAAL Samples AAPI Regular Lighting Server</a>
            </li>
                  <li class="none">
                          <a href="../aapi/smp.lighting.client-regular/index.html" title="universAAL Samples AAPI Regular Lighting Client">universAAL Samples AAPI Regular Lighting Client</a>
            </li>
                  <li class="none">
                          <a href="../aapi/smp.lighting.server-simple/index.html" title="universAAL Samples AAPI Lighting Server Simplified">universAAL Samples AAPI Lighting Server Simplified</a>
            </li>
                  <li class="none">
                          <a href="../aapi/smp.lighting.client-simple/index.html" title="universAAL Samples AAPI Lighting Client Simplified">universAAL Samples AAPI Lighting Client Simplified</a>
            </li>
                  <li class="none">
                          <a href="../smp.ctxt.situation.reasoner.client/index.html" title="universAAL Samples Context Situation Reasoner Test Client">universAAL Samples Context Situation Reasoner Test Client</a>
            </li>
                  <li class="none">
                          <a href="../smp.configurable.module/index.html" title="universAAL Samples Configurable Module">universAAL Samples Configurable Module</a>
            </li>
                  <li class="none">
                          <a href="../lddi.bluetooth/smp.lddi.weighingScalePublisher/index.html" title="universAAL Samples LDDI Weighing scale agent publisher">universAAL Samples LDDI Weighing scale agent publisher</a>
            </li>
                  <li class="none">
                          <a href="../lddi.bluetooth/continuaManager/smp.lddi.ContinuaManagerClient.unix/index.html" title="universAAL Samples LDDI Continua Manager Client (unix OS version)">universAAL Samples LDDI Continua Manager Client (unix OS version)</a>
            </li>
                  <li class="none">
                          <a href="../lddi.bluetooth/continuaManager/smp.lddi.ContinuaManagerClient.windows/index.html" title="universAAL Samples LDDI Continua Manager Client (windows OS version)">universAAL Samples LDDI Continua Manager Client (windows OS version)</a>
            </li>
                  <li class="none">
                          <a href="../tutorials/tut.pom/index.html" title="universAAL Tutorials Suite">universAAL Tutorials Suite</a>
            </li>
                  <li class="none">
                          <a href="../smp.ri.exportComponent/smp.cxf.client/index.html" title="universAAL Samples SOAP Client">universAAL Samples SOAP Client</a>
            </li>
                  <li class="none">
                          <a href="../smp.ri.exportComponent/smp.cxf.server/index.html" title="universAAL Samples SOAP Server">universAAL Samples SOAP Server</a>
            </li>
                  <li class="none">
                          <a href="../smp.ri.exportComponent/smp.cxf.service/index.html" title="universAAL Samples SOAP Service">universAAL Samples SOAP Service</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                      <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                          <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="checkstyle-aggregate.html" title="Checkstyle">Checkstyle</a>
            </li>
                      <li class="none">
            <strong>CPD</strong>
          </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD">PMD</a>
            </li>
                      <li class="none">
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">Cobertura Test Coverage</a>
            </li>
                      <li class="none">
                          <a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
            </li>
                      <li class="none">
                          <a href="taglist.html" title="Tag List">Tag List</a>
            </li>
                      <li class="none">
                          <a href="directive-checks.html" title="universAAL Directive Checks">universAAL Directive Checks</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.5.1.</p></div>
<div class="section">
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>153</td></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>153</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>		radiobuttonPanel.setBounds(20,100,400,50);		
		radioButtonsGroup = new ButtonGroup();
		realMeasurementButton = createJRadioButton(&quot;Real measurement&quot;);	
		realMeasurementButton.setToolTipText(&quot;Continua devices should be paired first&quot;);
		simulatedMeasurementButton = createJRadioButton(&quot;Simulated measurement&quot;);
		simulatedMeasurementButton.setToolTipText(&quot;Random values will be published to uAAL context bus (Continua devices not required)&quot;);
		radiobuttonPanel.add(realMeasurementButton);
		radiobuttonPanel.add(simulatedMeasurementButton);
		mainPanel.add(radiobuttonPanel);
		// Buttons
		bloodPressureButton = createJButton(bloodPressureImage,214,160,218,145,&quot;bloodPressure&quot;);		
		mainPanel.add(bloodPressureButton);		
		weighingScaleButton = createJButton(weighingScaleImage,18,154,178,157,&quot;weighingScale&quot;);			
		mainPanel.add(weighingScaleButton);		
	}	
	
	/** Create JPanel */
	public JPanel createJPanel() {
		JPanel output = null;
		output = new JPanel();	
		output.setLayout(null);
		output.setBorder(new EmptyBorder(5,5,5,5));	
		output.setBackground(Color.WHITE);
		return output;
	}
	
	/** Create JButtons */
	public JButton createJButton(String image,int x,int y,int weight,int height,String name) {
		JButton output = null;
		output = new JButton(&quot;&quot;);
		output.setBackground(Color.WHITE);
		if(image != null)
			output.setIcon(new ImageIcon(ctx.getBundle().getResource(image)));
		output.setBounds(x,y,weight,height);
		output.setActionCommand(name);
		output.addActionListener(this);
		return output;
	}	
	
	/** Create JRadioButtons */
	public JRadioButton createJRadioButton(String name) {
		JRadioButton output = null;
		output = new JRadioButton(name,false);
		output.setActionCommand(name);
		output.setBackground(Color.WHITE);
		output.addActionListener(this);
		radioButtonsGroup.add(output);
		return output;
	}
    
	/** Close GUI frame */
    public void closeGUI(){	     	
    	dispose();		
    }

    /** Action listener for radio buttons and jbuttons */
	public void actionPerformed(ActionEvent e) {
		if(e.getActionCommand().equals(&quot;bloodPressure&quot;)) {
			// Blood pressure device
			if(realMeasurementButton.isSelected()) {
				realMeasurement = true;
				createUaalPublisher(&quot;bloodPressure&quot;,&quot;real&quot;);				
			} else if(simulatedMeasurementButton.isSelected()) {
				realMeasurement = false;
				createUaalPublisher(&quot;bloodPressure&quot;,&quot;simulated&quot;);				
			}	
		} else if(e.getActionCommand().equals(&quot;weighingScale&quot;)) {
			// Weighing scale device
			if(realMeasurementButton.isSelected()) {
				realMeasurement = true;
				createUaalPublisher(&quot;weighingScale&quot;,&quot;real&quot;);				
			} else if(simulatedMeasurementButton.isSelected()) {
				realMeasurement = false;
				createUaalPublisher(&quot;weighingScale&quot;,&quot;simulated&quot;);				
			}
		} else if(e.getActionCommand().equals(&quot;publishData&quot;)) {
			// Publish data to uAAL context bus. Ensure that values are not NULL
			uaalX73Publisher = new Publisher(ctx);			
			if(realMeasurement) {				
				// Real values
				if(remoteDeviceType.equals(&quot;WeightingScale&quot;)) {					
					if(finalMeasuredWeightData != -1.0) {						
						double temp_1 = shortDecimalNumber(finalMeasuredWeightData)*1000;
						int temp = (int) temp_1;						
						uaalX73Publisher.publishWeightEvent(temp);	
						//stopPublisherGUI();
					}	
				} else {
					if((finalDiaBloodPressureData != -1)&amp;&amp;(finalHrBloodPressureData != -1)&amp;&amp;(finalSysBloodPressureData != -1)) {						
						int temp_0 = (int) finalSysBloodPressureData;
						int temp_1 = (int) finalDiaBloodPressureData;
						int temp_2 = (int) finalHrBloodPressureData;						
						uaalX73Publisher.publishBloodPressureEvent(temp_0,temp_1,temp_2);	
						//stopPublisherGUI();
					}
				}				
			} else {				
				// Random values
				if(remoteDeviceType.equals(&quot;WeightingScale&quot;)) {
					uaalX73Publisher.publishWeightEvent(Integer.parseInt(uaalPublisherWeightValueTextfield.getText()));
					//stopPublisherGUI();
				} else {					
					uaalX73Publisher.publishBloodPressureEvent(Integer.parseInt(uaalPublisherBloodPressureSysValueTextfield.getText()),
							   Integer.parseInt(uaalPublisherBloodPressureDiaValueTextfield.getText()),
							   Integer.parseInt(uaalPublisherBloodPressurePulValueTextfield.getText()));
					//stopPublisherGUI();
				}
			}			
		}
	}    
	
	/** Create and show uAAL publisher frame */
	public void createUaalPublisher(String device,String type) {
		// Hide main GUI
		setVisible(false);
		// Create dialog frame
		uaalPublisher = new JDialog(this,&quot;uAAL publisher&quot;,true);
		uaalPublisher.setResizable(false);
		uaalPublisher.setBounds(100,100,650,325);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>277</td></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>275</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>		    	stopPublisherGUI();
		    }
		});		
		// Main panel
		mainPublisherPanel = createJPanel();
		uaalPublisher.getContentPane().add(mainPublisherPanel,BorderLayout.CENTER);
		// Main text label 		
		uaalPublisherMainLabel = createJLabel(&quot;&quot;,200,5,350,50,Font.BOLD,24);					
		// Image icon		
		uaalPublisherLogoLabel = new JLabel(&quot;&quot;);		
		uaalPublisherLogoLabel.setBounds(25,75,218,145);		
		// Check Continua agent selected
		if(device.equals(&quot;bloodPressure&quot;)) {
			uaalPublisherMainLabel.setText(&quot;Blood pressure monitor&quot;);		
			uaalPublisherLogoLabel.setIcon(new ImageIcon(ctx.getBundle().getResource(bloodPressureImage)));			
			uaalPublisherBloodPressureSysValueLabel = createJLabel(&quot;SYS(mmHg)&quot;,250,100,100,50,Font.PLAIN,16);			
			uaalPublisherBloodPressureSysValueTextfield = createJTextfield(400,100,100,50,Font.PLAIN,16);			
			uaalPublisherBloodPressureDiaValueLabel = createJLabel(&quot;DIA(mmHg)&quot;,250,150,100,50,Font.PLAIN,16);				
			uaalPublisherBloodPressureDiaValueTextfield = createJTextfield(400,150,100,50,Font.PLAIN,16);			
			uaalPublisherBloodPressurePulValueLabel = createJLabel(&quot;     BPM&quot;,250,200,100,50,Font.PLAIN,16);
			uaalPublisherBloodPressurePulValueTextfield = createJTextfield(400,200,100,50,Font.PLAIN,16);
		} else {
			uaalPublisherMainLabel.setText(&quot;Weighing scale&quot;);
			uaalPublisherLogoLabel.setIcon(new ImageIcon(ctx.getBundle().getResource(weighingScaleImage)));
			uaalPublisherWeightValueLabel = createJLabel(&quot;Weight value&quot;,250,100,150,50,Font.PLAIN,16);			
			uaalPublisherWeightValueTextfield = createJTextfield(400,100,100,50,Font.PLAIN,16);			
			uaalPublisherWeightUnitLabel = createJLabel(&quot; Weight unit&quot;,250,150,150,50,Font.PLAIN,16);				
			uaalPublisherWeightUnitTextfield = createJTextfield(400,150,100,50,Font.PLAIN,16);
		}
		uaalPublisherButton = createJButton(null,250,275,200,25,&quot;publishData&quot;);
		uaalPublisherButton.setText(&quot;Publish to uAAL&quot;);	
		uaalPublisherButton.setToolTipText(&quot;Public measured data to uAAL context bus&quot;);
		// Check type of measurement
		if(type.equals(&quot;real&quot;)) {
			// Run hdp manager and wait for agent values			
			if(device.equals(&quot;bloodPressure&quot;)) {
				remoteDeviceType = &quot;BloodPressureMonitor&quot;;
				instantiateHdpManager();				
			} else {		
				remoteDeviceType = &quot;WeightingScale&quot;;
				instantiateHdpManager();				
			}
		} else {
			// Generate random values
			if(device.equals(&quot;bloodPressure&quot;)) {
				remoteDeviceType = &quot;BloodPressureMonitor&quot;;
				uaalPublisherBloodPressureSysValueTextfield.setText(&quot;&quot;+getRandomValue(90,119));
				uaalPublisherBloodPressureDiaValueTextfield.setText(&quot;&quot;+getRandomValue(60,79));
				uaalPublisherBloodPressurePulValueTextfield.setText(&quot;&quot;+getRandomValue(49,198));
			} else {
				remoteDeviceType = &quot;WeightingScale&quot;;
				uaalPublisherWeightValueTextfield.setText(&quot;&quot;+getRandomValue(50,110));
				uaalPublisherWeightUnitTextfield.setText(&quot;kg&quot;);
			}
		}
		// Add components to the panel
		mainPublisherPanel.add(uaalPublisherMainLabel);
		mainPublisherPanel.add(uaalPublisherLogoLabel);	
		addJLabelComponent(uaalPublisherBloodPressureSysValueLabel);
		addJLabelComponent(uaalPublisherBloodPressureSysValueTextfield);
		addJLabelComponent(uaalPublisherBloodPressureDiaValueLabel);
		addJLabelComponent(uaalPublisherBloodPressureDiaValueTextfield);
		addJLabelComponent(uaalPublisherBloodPressurePulValueLabel);
		addJLabelComponent(uaalPublisherBloodPressurePulValueTextfield);
		addJLabelComponent(uaalPublisherWeightValueLabel);
		addJLabelComponent(uaalPublisherWeightValueTextfield);
		addJLabelComponent(uaalPublisherWeightUnitLabel);
		addJLabelComponent(uaalPublisherWeightUnitTextfield);
		mainPublisherPanel.add(uaalPublisherButton);
		// Show
		uaalPublisher.setVisible(true);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/publisher/hdpManager.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>279</td></tr>
<tr class="a">
<td>org/universAAL/lddi/weighingscale/publisher/hdpManager.java</td>
<td>universAAL Samples LDDI Weighing scale agent publisher</td>
<td>267</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>	}

	/** Java methods */	
	// Init method
	public void init() {		
		// Create the objects related to ISO/IEEE 11073 Manager interpreter
		eventmanager = new EventIEEEManager();
		x73manager = new Manager(eventmanager);
		fsm = x73manager.getFSM();
		rmp = x73manager.getMessageProcessor();		
		// First (mandatory) step: DBUS platform should be successfully initialized (otherwise JVM will return fatal errors)
		if(startDbusPlatform()) {			
			// Get and show the object path of the DEFAULT adapter (in GNU/Linux environments should be 'hci0')
			String defaultDevicePathTemp = getLocalBluetoothAdapterPath();
			System.out.println(&quot;Default bluetooth adapter path: &quot;+defaultDevicePathTemp);	
			if(defaultDevicePathTemp == null) {				
				System.out.println(&quot;Unable to detect bluetooth adapters&quot;);
				System.exit(0);
			}	
			// Show the object path of ALL the local bluetooth adapters available at our PC
			System.out.println(&quot;List of local bluetooth adapters:&quot;);
			showLocalBluetoothAdaptersPath();
			// Show some properties of the DEFAULT adapter: address, name, class, powered, discoverable, pairable, discoverable timeout, pairable timeout,
			// discovering, devices and UUIDs. Check bluetooth manuals to understand the meaning of each
			System.out.println(&quot;Local bluetooth properties:&quot;);
			showDefaultLocalBluetoothAdaptersProperties();
			// Object path of a remote device
			remoteDevicePath = getRemoteBluetoothAdapterPath(macAddressRemoteDevice);
			System.out.println(&quot;Remote bluetooth adapter path: &quot;+remoteDevicePath);	
			// Remote device properties (from its own path)
			System.out.println(&quot;Remote device properties (BEFORE):&quot;);
			showRemoteBluetoothAdapterProperties(remoteDevicePath);
			// Prior to start any communication process, we need to ensure that the remote device appears as a 'Trusted' (true value) device (by default  
			// it should appear as false (not trusted) so we need to change this property			
			setPropertyRemoteDevice(remoteDevicePath,trustedProperty,true);			
			// Show the properties of the remote device to verify that the 'Trusted' value has been successfully changed (false -&gt; true)
			System.out.println(&quot;Remote device properties (AFTER):&quot;);			
			showRemoteBluetoothAdapterProperties(remoteDevicePath);
			// We need to create an HDP application before any HDP data frames exchange between agents/sources and managers/sinks. IMPORTANT: the app 
			// created will be only valid for the data types and roles passed as arguments. For instance, this HDP channel will be created only if the 
			// remote device is a weight scale acting as a source. So, here we go...
			String hdpApplicationIdTemp = createHDPApplication(dataTypeValue,roleValue,shortDescriptionValue,channelTypeValue);
			System.out.println(&quot;HDP application identifier: &quot;+hdpApplicationIdTemp);
			// HDP app successfully created
			if(hdpApplicationIdTemp != null) {
				// We have the option to destroy/close any HDP application. For security reason, only the owner of this process will be able to destroy it
				destroyHDPApplication(hdpApplicationIdTemp);
				// New HDP application (again)
				hdpApplicationIdTemp = createHDPApplication(dataTypeValue,roleValue,shortDescriptionValue,channelTypeValue);
				System.out.println(&quot;HDP application identifier: &quot;+hdpApplicationIdTemp);				
				// A good practice should be check the availability of the DBUS system (is it still alive?)
				System.out.println(&quot;DBUS sytem status: &quot;+(getDbusSystemAvailability()?&quot;Up&quot;:&quot;Down&quot;));
				// Remember that those PHD devices with compatible data type and role (weight scales and sources) are able to find our applicattion through 
				// bluetooth connections. At this case: we are a sink so we need to wait for input connections (handle signals). First step: we need to
				// subscribe our application to HDP events in the DBUS system.
				if(!enableHDPListener()) {
					System.out.println(&quot;Unable to listen HDP messages inside DBUS&quot;);
					System.exit(0);
				} else {
					System.out.println(fsm.getStringTransportState() + &quot; &quot; +fsm.getStringChannelState());					
					waitHDPConnections();
				}				
			}
		} else {
			System.out.println(&quot;Ups. Bad news, the monkey who has developed this application ran out of nuts. Try again later...&quot;);
		}
	}	

	/* HDP channel available. x073 state machine at connected status */
	public void onChannelConnected() {		
		// Get the object path of the just created HDP channel
		if(remoteDevicePath != null) {
			hdpDataChannelPath = getHDPDataChannelPath(remoteDevicePath);
			System.out.println(&quot;HDP channel path: &quot;+hdpDataChannelPath);			</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/publisher/Publisher.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>51</td></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/win/publisher/Publisher.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>51</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>public class Publisher {
	
	// Atributes
	// Default context publisher
	private ContextPublisher cp;
	// Context provider info (provider type)
	ContextProvider cpInfo = new ContextProvider();
	// Module context
	ModuleContext mc;
	// URI prefix
	public static final String PUBLISHER_URI_PREFIX = 
		&quot;http://http://ontology.universAAL.org/PersonalHealtDeviceSimulator.owl#&quot;;

	// Constructor
	
	/** Publisher contructor 
	 *  @param context - framework bundle context
	 * */
	public Publisher(BundleContext context) {
		// Instantiate the context provider info with a valid provider URI
		cpInfo = new ContextProvider(PUBLISHER_URI_PREFIX + &quot;PersonalHealthDeviceContextProvider&quot;);
		mc = uAALBundleContainer.THE_CONTAINER.registerModule(new Object[] { context });
		// Set to type gauge (only publishes data information it senses)
		cpInfo.setType(ContextProviderType.gauge);
		// Set the provided events to unknown with an empty pattern
		cpInfo.setProvidedEvents(new ContextEventPattern[] { new ContextEventPattern() });
		// Create and register the context publisher
		cp = new DefaultContextPublisher(mc,cpInfo);
	}
	
	// Methods
	
	/** Publish weighting scale events to uAAL bus */	
	public void publishWeightEvent(int weight) {		
		WeighingScale ws = new WeighingScale(PUBLISHER_URI_PREFIX + &quot;WeighingScale&quot;);		
		PersonWeight m_ws = new PersonWeight(PUBLISHER_URI_PREFIX + &quot;Measurement_Weight&quot;);
		m_ws.setProperty(Measurement.PROP_VALUE, Float.valueOf((float)weight));
		ws.setValue(m_ws);		
		cp.publish(new ContextEvent(ws,WeighingScale.PROP_HAS_VALUE));		
	}
	
	/** Publish blood pressure events to uAAL bus */
	public void publishBloodPressureEvent(int sys,int dia,int hr) {		
		BloodPressure value = new BloodPressure(PUBLISHER_URI_PREFIX + &quot;BloodPressureMeasurement&quot;);
		
		Measurement systolic = new Measurement();
		systolic.setValue(Float.valueOf(sys));
		
		Measurement diastolic = new Measurement();
		diastolic.setValue(Float.valueOf(dia));
		
		value.setSyst(systolic);
		value.setDias(diastolic);
		
		BloodPressureSensor sensor = new BloodPressureSensor( PUBLISHER_URI_PREFIX + &quot;continuaBTBloodPressureSensor&quot; );
		sensor.setValue(value);
		
		cp.publish(new ContextEvent(sensor,BloodPressureSensor.PROP_HAS_VALUE));

		HeartRate hrvalue = new HeartRate();
		hrvalue.setProperty(Measurement.PROP_VALUE, Integer.valueOf(hr));
		HeartRateSensor hrsensor = new HeartRateSensor( PUBLISHER_URI_PREFIX + &quot;continuaBTHeartRateSensor&quot; );
		hrsensor.setValue(hrvalue);
		
		cp.publish(new ContextEvent(hrsensor,BloodPressureSensor.PROP_HAS_VALUE));
	}
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/samples/lighting/server_regular/MyLightingOntologified.java</td>
<td>universAAL Samples AAPI Regular Lighting Server</td>
<td>30</td></tr>
<tr class="a">
<td>org/universAAL/samples/lighting/server_simple/MyLightingOntologified.java</td>
<td>universAAL Samples AAPI Lighting Server Simplified</td>
<td>30</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>public class MyLightingOntologified {
    /**
     * Real implementation controlling light sources.
     */
    private MyLighting realLighting = new MyLighting();

    public MyLightingOntologified(String namespace) {
	/* Initializing fields with ontological constants */
	this.LAMP_URI_PREFIX = namespace + &quot;controlledLamp&quot;;
	this.LOCATION_URI_PREFIX = &quot;urn:aal_space:myHome#&quot;;
    }
    
    /*
     * Fields and methods for mapping real implementation onto ontology.
     */

    private final String LAMP_URI_PREFIX;
    private final String LOCATION_URI_PREFIX; 

    private String constructLampURIfromLocalID(int localID) {
	return LAMP_URI_PREFIX + localID;
    }

    private String constructLocationURIfromLocalID(String localID) {
	return LOCATION_URI_PREFIX + localID;
    }

    private int extractLocalIDfromLampURI(String lampURI) {
	return Integer.parseInt(lampURI.substring(LAMP_URI_PREFIX.length()));
    }

    /*
     * Implementation of ontological interface
     */

    public LightSource[] getControlledLamps() {
	ArrayList&lt;LightSource&gt; al = new ArrayList&lt;LightSource&gt;();
	Integer[] controlledLamps = realLighting.getControlledLamps();
	for (int i = 0; i &lt; controlledLamps.length; i++) {
	    LightSource ls = new LightSource(constructLampURIfromLocalID(i));
	    ls.setLightType(ElectricLight.lightBulb);
	    al.add(ls);
	}
	return al.toArray(new LightSource[0]);
    }

    public Object[] getLampInfo(LightSource lamp) {
	int lampID = extractLocalIDfromLampURI(lamp.getURI());
	int state = realLighting.getState(lampID);
	String loc = realLighting.getLampLocation(lampID);
	Room ontologyLoc = new Room(constructLocationURIfromLocalID(loc));
	return new Object[] { state, ontologyLoc };
    }

    public void turnOff(LightSource lamp) {
	int lampID = extractLocalIDfromLampURI(lamp.getURI());
	realLighting.turnOff(lampID);
    }

    public void turnOn(LightSource lamp) {
	int lampID = extractLocalIDfromLampURI(lamp.getURI());
	realLighting.turnOn(lampID);
    }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/samples/lighting/server_regular/unit_impl/MyLighting.java</td>
<td>universAAL Samples AAPI Regular Lighting Server</td>
<td>28</td></tr>
<tr class="a">
<td>org/universAAL/samples/lighting/server_simple/unit_impl/MyLighting.java</td>
<td>universAAL Samples AAPI Lighting Server Simplified</td>
<td>23</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>public class MyLighting {
    private class Lamp {
	String loc;
	boolean isOn;

	Lamp(String loc, boolean isOn) {
	    this.loc = loc;
	    this.isOn = isOn;
	}
    }

    private Lamp[] myLampDB = new Lamp[] { new Lamp(&quot;loc1&quot;, false),
	    new Lamp(&quot;loc2&quot;, false), new Lamp(&quot;loc3&quot;, false),
	    new Lamp(&quot;loc4&quot;, false) };

    public String getLampLocation(int lampID) {
	return myLampDB[lampID].loc;
    }

    public int getState(int lampID) {
	return myLampDB[lampID].isOn ? 100 : 0;
    }

    public Integer[] getControlledLamps() {
	Integer[] ids = new Integer[myLampDB.length];
	for (int i = 0; i &lt; myLampDB.length; i++)
	    ids[i] = i;
	return ids;
    }

    public Object[] getLampInfo(int lampID) {
	String loc = getLampLocation(lampID);
	int state = getState(lampID);
	return new Object[] { state, loc };
    }

    public void turnOff(int lampID) {
	if (myLampDB[lampID].isOn) {
	    myLampDB[lampID].isOn = false;
	}
    }

    public void turnOn(int lampID) {
	if (!myLampDB[lampID].isOn) {
	    myLampDB[lampID].isOn = true;
	}
    }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>347</td></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>346</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>		uaalPublisher.setVisible(true);
	}
	
	/** Create JLabel */
	public JLabel createJLabel(String name,int x,int y,int weight,int height,int fontType,int fontSize) {
		JLabel output = null;
		output = new JLabel(name);	
		output.setBounds(x,y,weight,height);
		output.setFont(new Font(&quot;Courier&quot;,fontType,fontSize));	
		output.setHorizontalTextPosition(SwingConstants.CENTER);
		return output;
	}
	
	/** Create JTextfield */
	public JTextField createJTextfield(int x,int y,int weight,int height,int fontType,int fontSize) {
		JTextField output = null;
		output = new JTextField(10);	
		output.setBounds(x,y,weight,height);
		output.setEditable(false);
		output.setColumns(10);
		output.setHorizontalAlignment(JTextField.CENTER);
		output.setFont(new Font(&quot;Courier&quot;,fontType,fontSize));		
		return output;
	}
	
	/** Add components to panel */
	public void addJLabelComponent(JComponent component) {
		if(component != null)
			mainPublisherPanel.add(component);
	}
	
	/** Reset components */
	public void resetComponentsStatus() {
		uaalPublisherWeightValueLabel = null;
		uaalPublisherWeightValueTextfield = null;
		uaalPublisherWeightUnitLabel = null;
		uaalPublisherWeightUnitTextfield = null;
		uaalPublisherBloodPressureSysValueLabel = null;
		uaalPublisherBloodPressureSysValueTextfield = null;
		uaalPublisherBloodPressureDiaValueLabel = null;
		uaalPublisherBloodPressureDiaValueTextfield = null;
		uaalPublisherBloodPressurePulValueLabel = null;
		uaalPublisherBloodPressurePulValueTextfield = null;
		remoteDeviceType = null;
		realMeasurement = false;
		finalMeasuredWeightData = -1.0;
		finalSysBloodPressureData = -1;
		finalDiaBloodPressureData = -1;
		finalHrBloodPressureData = -1;
	}
	
	/** Shorten number of decimals */
	public double shortDecimalNumber(double d) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/samples/ctxtbus/HistoryCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>82</td></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/HistoryCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>194</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>		tstFrom, tstTo));
	if (response.getCallStatus() == CallStatus.succeeded) {
//	    Object value = getReturnValue(response.getOutputs(),
//		    OUTPUT_LIST_OF_EVENTS);
	    Object value=response.getOutput(OUTPUT_LIST_OF_EVENTS,true);
	    if (value instanceof Resource) {
		if (((Resource) value).getURI().contains(&quot;#nil&quot;)) {
		    log.info(&quot;History Client - result is empty&quot;);
		    return 0;
		}
	    } else {
		try {
		    ContextEvent[] events = (ContextEvent[]) ((List) value)
			    .toArray(new ContextEvent[((List) value).size()]);

		    for (int j = 0; j &lt; events.length; j++) {
			count++;
			log.info(&quot;Retrieved context event from CHe:\n&quot;
				+ &quot;    Subject     =&quot;
				+ events[j].getSubjectURI() + &quot;\n&quot;
				+ &quot;    Subject type=&quot;
				+ events[j].getSubjectTypeURI() + &quot;\n&quot;
				+ &quot;    Predicate   =&quot;
				+ events[j].getRDFPredicate() + &quot;\n&quot;
				+ &quot;    Object      =&quot;
				+ events[j].getRDFObject());
			log.info(Activator.ser.serialize(events[j]));
		    }
		} catch (Exception e) {
		    log.info(&quot;History Client: List of events corrupt!&quot;, e);
		}
	    }
	} else
	    log.info(&quot;History Client - status of getEvents(): &quot;
		    + response.getCallStatus());
	return count;
    }

    private ServiceRequest getGetEventsRequest(</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/publisher/hdpManager.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>99</td></tr>
<tr class="a">
<td>org/universAAL/lddi/weighingscale/publisher/hdpManager.java</td>
<td>universAAL Samples LDDI Weighing scale agent publisher</td>
<td>97</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>	private String remoteDeviceType = null;

	/** Native functions */

	/**
	 *  Start dbus platform for message interchanging within processes in Linux OS.
	 *  
	 * @return if the Dbus platform is correctly initialized.
	 */
	private native boolean startDbusPlatform();

	/**
	 * Get the path for the local Bluetooth adapter which is in use at the moment.
	 * 
	 * @return local bluetooth adapter path
	 */
	private native String getLocalBluetoothAdapterPath();

	/**
	 * Show path of all local bluetooth adapters available at PC (may be more than one).
	 */
	private native void showLocalBluetoothAdaptersPath();

	/**
	 * Show all properties of the DEFAULT local bluetooth adapter. In case a computer has more than one Bluetooth adapter, 
	 * there will be one in use by default.
	 */
	private native void showDefaultLocalBluetoothAdaptersProperties();

	/**
	 * Get the object path of a remote device given a MAC address (format:XX:XX:XX:XX:XX:XX).
	 * 
	 * @param macAddressRemoteDevice the MAC address of the desired remote device (the format of the MAC is XX:XX:XX:XX:XX:XX).
	 * @return the path for the remote Bluetooth device in the local machine.
	 */
	private native String getRemoteBluetoothAdapterPath(String macAddressRemoteDevice);

	/**
	 * Show all properties of a remote device (it should be first created with getRemoteBluetoothAdapterPath method).
	 * 
	 * @param remoteDevicePath the path for the remote Bluetooth device in the local machine.
	 * @see showDefaultLocalBluetoothAdaptersProperties()
	 */
	private native void showRemoteBluetoothAdapterProperties(String remoteDevicePath);

	/**
	 * Modify a property of a remote device.
	 * This will be used for enabling the &quot;Trusted&quot; property in a remote Health Device Profile capable device for being establish a connection.
	 * 
	 * @param remoteDevicePath the path for the remote Bluetooth device in the local machine.
	 * @param propertyKey the name of the property to be modified.
	 * @param propertyValue the new value for the property.
	 */
	private native void setPropertyRemoteDevice(String remoteDevicePath,String propertyKey,boolean propertyValue);

	/**
	 * Create a new HDP application and gets the object path of the new created application.
	 * 
	 * @param dataTypeValue which kind of a HDP capable device will be used.
	 * @param roleValue set the role of the HDP role that the local machine will be playing. Usually, &quot;Sink&quot;
	 * @param shortDescriptionValue custom string for helping the remote devices to identify the local machine they are connected to.
	 * @param channelTypeValue set whether the channel is working with trusted or streaming mode.
	 * @return the path of the new Health Device Profile application newly created in the local machine. 
	 */
	private native String createHDPApplication(String dataTypeValue,String roleValue,String shortDescriptionValue,String channelTypeValue);

	/**
	 * Destroy an HDP application.
	 * 
	 * @param objectPathHDPApplication the path of the Health Device Profile application to be destroyed. 
	 */
	private native void destroyHDPApplication(String objectPathHDPApplication);	

	/**
	 * Checks DBUS system availability.
	 * 
	 * @return true if the Dbus system is available, or false if not.
	 */
	private native boolean getDbusSystemAvailability();

	/**
	 * Add a specific rule to follow HDP messages inside DBUS. 
	 * 
	 * @return true if the local application is subscribed to HDP messages in DBus.
	 */
	private native boolean enableHDPListener();

	/**
	 * 	Wait for new incoming HDP connections.
	 */
	private native void waitHDPConnections();

	/**
	 * Get the object path of the HDP channel ready to send/receive data to/from Continua devices.
	 * 
	 * @param remoteDevicePath the path for the remote Bluetooth device in the local machine.  
	 * @return the path of the data channel from a Health Device Profile application.  
	 */
	private native String getHDPDataChannelPath(String remoteDevicePath);

	/**
	 * Show the properties of a HDP data channel previously created.
	 * 
	 * @param hdpDataChannelPath the path of the data channel from a Health Device Profile application.  
	 */
	private native void showHDPDataChannelProperties(String hdpDataChannelPath);

	/**
	 * Get the file descriptor associated to a HDP data channel
	 * 
	 * @param hdpDataChannelPath the path of the data channel from a Health Device Profile application. 
	 * @return the number that identifies the file descriptor in a Linux OS.
	 */
	private native int getHDPDataChannelFileDescriptor(String hdpDataChannelPath);

	/**
	 * Release the file descriptor associated to this HDP data channel (HDP application will be closed).
	 * 
	 * @param hdpDataChannelPath the path of the data channel from a Health Device Profile application. 
	 */
	private native void releaseHDPDataChannelFileDescriptor(String hdpDataChannelPath);

	/**
	 * Wait for HDP data frames from Continua Health devices. These frames will be compliant with ISO/IEEE 11073 standard.
	 * 
	 * @param hdpDataChannelFileDescriptor the file descriptor that identifies a HDP data channel.
	 */
	private native void waitHDPDataFrames(int hdpDataChannelFileDescriptor);

	/**
	 * Get the input data frame from a Continua Health device. The data will be retrieved in raw format (byte array), and will be processed by the
	 * ISO/IEEE 11073 library included.
	 * 
	 * @param hdpDataChannelFileDescriptor the file descriptor that identifies a HDP data channel.
	 * @return the data a remote device sent, in raw format.
	 */
	private native byte[] getHDPDataFrame(int hdpDataChannelFileDescriptor);

	/**
	 * Get the number of bytes read from input data frames.
	 * 
	 * @param hdpDataChannelFileDescriptor the file descriptor that identifies a HDP data channel.
	 * @return the size of the data frame received.
	 */
	private native int getSizeHDPDataFrame(int hdpDataChannelFileDescriptor);

	/**
	 * Show HDP data frame received. 
	 *  
	 * @param hdpDataChannelFileDescriptor the file descriptor that identifies a HDP data channel.
	 */
	private native void showHDPDataFrame(int hdpDataChannelFileDescriptor);

	/**
	 * Send HDP data frames to Continua Health devices after processing the ones previously received and generate the proper response to them.
	 * 
	 * @param hdpDataChannelFileDescriptor the file descriptor that identifies a HDP data channel.
	 * @param hdpDataFrame the raw byte array of the data that will be sent back to a Continua device.
	 */
	private native void sendHDPDataToDevice(int hdpDataChannelFileDescriptor,byte[] hdpDataFrame);

	/**
	 * Free all employed resources and end HDP manager in a well-known status
	 * 
	 */
	private native void closeHDPManager(); 
	
	/** Constructor */
	public hdpManager(String str) {	</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>228</td></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>228</td></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>413</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>		} else if(e.getActionCommand().equals(&quot;publishData&quot;)) {
			// Publish data to uAAL context bus. Ensure that values are not NULL
			uaalX73Publisher = new Publisher(ctx);			
			if(realMeasurement) {				
				// Real values
				if(remoteDeviceType.equals(&quot;WeightingScale&quot;)) {					
					if(finalMeasuredWeightData != -1.0) {						
						double temp_1 = shortDecimalNumber(finalMeasuredWeightData)*1000;
						int temp = (int) temp_1;						
						uaalX73Publisher.publishWeightEvent(temp);	
						//stopPublisherGUI();
					}	
				} else {
					if((finalDiaBloodPressureData != -1)&amp;&amp;(finalHrBloodPressureData != -1)&amp;&amp;(finalSysBloodPressureData != -1)) {						
						int temp_0 = (int) finalSysBloodPressureData;
						int temp_1 = (int) finalDiaBloodPressureData;
						int temp_2 = (int) finalHrBloodPressureData;						
						uaalX73Publisher.publishBloodPressureEvent(temp_0,temp_1,temp_2);	
						//stopPublisherGUI();
					}
				}				
			} else {				
				// Random values
				if(remoteDeviceType.equals(&quot;WeightingScale&quot;)) {
					uaalX73Publisher.publishWeightEvent(Integer.parseInt(uaalPublisherWeightValueTextfield.getText()));
					//stopPublisherGUI();
				} else {					
					uaalX73Publisher.publishBloodPressureEvent(Integer.parseInt(uaalPublisherBloodPressureSysValueTextfield.getText()),
							   Integer.parseInt(uaalPublisherBloodPressureDiaValueTextfield.getText()),
							   Integer.parseInt(uaalPublisherBloodPressurePulValueTextfield.getText()));
					//stopPublisherGUI();
				}
			}			
		}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/lighting/client_regular/LightClient.java</td>
<td>universAAL Samples AAPI Regular Lighting Client</td>
<td>134</td></tr>
<tr class="b">
<td>org/universAAL/samples/lighting/client/LightClient.java</td>
<td>universAAL Samples Lighting Client (OSGi)</td>
<td>170</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>		start(d);
	}
	
	private void initGUI() {
		try {
			setPreferredSize(new Dimension(400, 300));
			this.setLayout(null);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	/**
	* Auto-generated method for setting the popup menu for a component
	*/
	private void setComponentPopupMenu(final java.awt.Component parent, final javax.swing.JPopupMenu menu) {
		parent.addMouseListener(new java.awt.event.MouseAdapter() {
			public void mousePressed(java.awt.event.MouseEvent e) {
				if(e.isPopupTrigger())
					menu.show(parent, e.getX(), e.getY());
			}
			public void mouseReleased(java.awt.event.MouseEvent e) {
				if(e.isPopupTrigger())
					menu.show(parent, e.getX(), e.getY());
			}
		});
	}
	

	
	private AbstractAction getOn() {
		if(On == null) {
			On = new AbstractAction(&quot;On&quot;, null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/uibus/OPublisher.java</td>
<td>universAAL Samples UI bus tester</td>
<td>247</td></tr>
<tr class="b">
<td>org/universAAL/samples/uibus/OPublisher.java</td>
<td>universAAL Samples UI bus tester</td>
<td>389</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	    String PROP_TABLE = &quot;http://ontology.aal-persona.org/Tests.owl#table&quot;;
	    String PROP_COL = &quot;http://ontology.aal-persona.org/Tests.owl#column&quot;;
	    List rows = new ArrayList();
	      Resource cell = new Resource();
	      cell.setProperty(PROP_COL + &quot;1&quot;, new Integer(1));
	      cell.setProperty(PROP_COL + &quot;2&quot;, &quot;two&quot;);
	      cell.setProperty(PROP_COL + &quot;3&quot;, new Float(3));
	      rows.add(cell);
	      //...
	      cell = new Resource();
	      cell.setProperty(PROP_COL + &quot;1&quot;, new Integer(2));
	      cell.setProperty(PROP_COL + &quot;2&quot;, &quot;three&quot;);
	      cell.setProperty(PROP_COL + &quot;3&quot;, new Float(4));
	      rows.add(cell);
	      //...
	      cell = new Resource();
	      cell.setProperty(PROP_COL + &quot;1&quot;, new Integer(3));
	      cell.setProperty(PROP_COL + &quot;2&quot;, &quot;four&quot;);
	      cell.setProperty(PROP_COL + &quot;3&quot;, new Float(5));
	      rows.add(cell);
	      Resource dataRoot = new Resource();
	      dataRoot.setProperty(PROP_TABLE, rows);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/samples/activityhub/client/ActivityHubClient.java</td>
<td>universAAL Samples Activity Hub Client</td>
<td>147</td></tr>
<tr class="b">
<td>org/universAAL/lddi/samples/device/client/DeviceClient.java</td>
<td>universAAL Samples Device Client</td>
<td>163</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>			infoButton.setAction(getInfo());
		}

		{
			label2 = new JLabel(&quot;Device Info&quot;);
			frame.getContentPane().add(label2);
			label2.setBounds(20, 150, 200, 20);

			frame.getContentPane().add(jsp1);
			jsp1.setBounds(20, 170, 900, 150);
		}

		{
			label3 = new JLabel(&quot;Context Events&quot;);
			frame.getContentPane().add(label3);
			label3.setBounds(20, 330, 200, 20);
			
			frame.getContentPane().add(jsp2);
			jsp2.setBounds(20, 350, 900, 180);
		}

		{
			label4 = new JLabel(&quot;Log&quot;);
			frame.getContentPane().add(label4);
			label4.setBounds(20, 540, 200, 20);

			frame.getContentPane().add(jsp3);
			jsp3.setBounds(20, 560, 900, 180);
		}
	}
	
	/**
	 * AbstractAction for button getSensors
	 * initiates service call to parent
	 * @return
	 */
	private AbstractAction getSensors() {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/lighting/server_regular/LightingProviderLevel1.java</td>
<td>universAAL Samples AAPI Regular Lighting Server</td>
<td>51</td></tr>
<tr class="b">
<td>org/universAAL/samples/lighting/server_regular/LightingProviderLevel2.java</td>
<td>universAAL Samples AAPI Regular Lighting Server</td>
<td>67</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>    }


    public ServiceResponse handleCall(ServiceCall call) {
	if (call == null)
	    return null;

	String operation = call.getProcessURI();
	if (operation == null)
	    return null;

	if (operation.startsWith(LightingServerURIs.GetControlledLamps.URI))
	    return getControlledLamps();

	LightSource input = (LightSource) call
		.getInputValue(LightingServerURIs.GetLampInfo.Input.LAMP_URI);
	if (input == null)
	    return null;

	if (operation.startsWith(LightingServerURIs.GetLampInfo.URI))
	    return getLampInfo(input);

	if (operation.startsWith(LightingServerURIs.TurnOff.URI))
	    return turnOff(input);

	if (operation.startsWith(LightingServerURIs.TurnOn.URI))
	    return turnOn(input);

	return null;
    }

    // create a service response that including all available light sources
    private ServiceResponse getControlledLamps() {
    	AapiServiceResponse sr = new AapiServiceResponse(CallStatus.succeeded);
	List al = new ArrayList(Arrays.asList(ontologifiedServer.getControlledLamps()));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/samples/activityhub/client/ActivityHubClient.java</td>
<td>universAAL Samples Activity Hub Client</td>
<td>246</td></tr>
<tr class="b">
<td>org/universAAL/lddi/samples/device/client/DeviceClient.java</td>
<td>universAAL Samples Device Client</td>
<td>251</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	}

	
	/**
	 * send all text lines from the given array to addTextToDeviceArea
	 * @param multiple text lines for 1 device info response  
	 */
	public void showDeviceInfo(String[] listData) {
		for (String line : listData) {
			addTextToDeviceArea(line);
		}
	}

	/**
	 * Helper class that displays the given text on the deviceInfoArea on the GUI
	 * adding a line break
	 * and set focus always to the bottom of the textArea
	 * @param text
	 */
	public void addTextToDeviceArea(String text) {
		deviceInfoArea.setText(deviceInfoArea.getText() + text + &quot;\n&quot;);
	    deviceInfoArea.setCaretPosition(deviceInfoArea.getDocument().getLength());
	}
	
	
	/**
	 * send all text lines from the given array to addTextToContextArea
	 * @param multiple text lines for 1 context event  
	 */
	public void showContextEvent(String[] listData) {
		for (String line : listData) {
			addTextToContextArea(line);
		}
	}

	/**
	 * Helper class that displays the given text on the contextArea on the GUI
	 * adding a line break
	 * and set focus always to the bottom of the textArea
	 * @param text
	 */
	public void addTextToContextArea(String text) {
		contextArea.setText(contextArea.getText() + text + &quot;\n&quot;);
	    contextArea.setCaretPosition(contextArea.getDocument().getLength());
	}
	
	/**
	 * Helper class that displays the given text on the logArea on the GUI
	 * adding a line break
	 * @param text
	 */
	public void addTextToLogArea(String text) {
		logArea.setText(logArea.getText() + text + &quot;\n&quot;);
	}

	
	/**
	 * 
	 */
	public void deleteGui() {
		frame.dispose();
	}

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>58</td></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>58</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>public class GUI extends JDialog implements ActionListener {
	
// Attributes
	
	/** Serializable object */
	private static final long serialVersionUID = 1L;	
	
	/** uAAL publisher window */
	private JDialog uaalPublisher = null;
	
	/** Main and secondary panels */
	public static JPanel mainPanel = null;
	private JPanel radiobuttonPanel = null;
	private JPanel mainPublisherPanel = null;
	
	/** Components */
	private JRadioButton realMeasurementButton = null;		
	private JRadioButton simulatedMeasurementButton = null;
	private ButtonGroup radioButtonsGroup = null;
	private JButton bloodPressureButton = null;
	private JButton weighingScaleButton = null;
	private JLabel uaalLogoLabel = null;
	private JLabel uaalPublisherMainLabel = null;
	private JLabel uaalPublisherLogoLabel = null;	
	private JLabel uaalPublisherWeightValueLabel = null;
	public static JTextField uaalPublisherWeightValueTextfield = null;
	private JLabel uaalPublisherWeightUnitLabel = null;
	public static JTextField uaalPublisherWeightUnitTextfield = null;
	private JLabel uaalPublisherBloodPressureSysValueLabel = null;
	public static JTextField uaalPublisherBloodPressureSysValueTextfield = null;
	private JLabel uaalPublisherBloodPressureDiaValueLabel = null;
	public static JTextField uaalPublisherBloodPressureDiaValueTextfield = null;
	private JLabel uaalPublisherBloodPressurePulValueLabel = null;
	public static JTextField uaalPublisherBloodPressurePulValueTextfield = null;
	private JButton uaalPublisherButton = null;
	
	/** Constants */
	private static final String weighingScaleImage = &quot;ws.png&quot;;
	private static final String bloodPressureImage = &quot;bp.png&quot;;
	private static final String uaalLogoImage = &quot;uaal_logo_resized.jpg&quot;;
	
	/** Bundle context object */
	private BundleContext ctx = null;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/publisher/hdpManager.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>356</td></tr>
<tr class="b">
<td>org/universAAL/lddi/weighingscale/publisher/hdpManager.java</td>
<td>universAAL Samples LDDI Weighing scale agent publisher</td>
<td>344</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>				showHDPDataChannelProperties(hdpDataChannelPath);
				// We need a valid file descriptor prior sending or receiving data bytes between managers and agents. If the file descriptor getted is not
				// valid a -1 value will be returned
				hdpDataChannelFileDescriptor = getHDPDataChannelFileDescriptor(hdpDataChannelPath);
				System.out.println(&quot;Number of file descriptor: &quot;+hdpDataChannelFileDescriptor);
				// Notify the connection to the FSM of the Manager
				fsm = x73manager.getFSM();
				fsm.transportActivate();
				System.out.println(fsm.getStringTransportState());
				// Wait until right HDP data frame will be available in our assigned file descriptor
				waitHDPDataFrames(hdpDataChannelFileDescriptor);
			} else 
				System.out.println(&quot;HDP channel not available&quot;);
		}
	}

	/* HDP data received */
	public void onDataReceived() {
		// Show the received data frame (each byte in hex mode)
		showHDPDataFrame(hdpDataChannelFileDescriptor);
		// Get the number of bytes read (size of the buffer array with VALID data)
		int numberBytes = getSizeHDPDataFrame(hdpDataChannelFileDescriptor);
		System.out.println(&quot;Number of bytes received (call from native code): &quot;+numberBytes);
		// Get the input data frame as a whole
		hdpReceivedDataFrame = getHDPDataFrame(hdpDataChannelFileDescriptor);
		System.out.println(&quot;Number of bytes received (call from JAVA): &quot;+hdpReceivedDataFrame.length);
		System.out.println(&quot;Answering agent data frames&quot;);		
		rmp = x73manager.getMessageProcessor();		
		byte[] response = x73manager.getAPDU(hdpReceivedDataFrame);
		sendHDPDataToDevice(hdpDataChannelFileDescriptor,response);
		if(fsm.getStringChannelState().equals(&quot;ASSOCIATED - OPERATING&quot;)) {					
			if(remoteDeviceType.equals(&quot;BloodPressureMonitor&quot;)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/tutorials/service/bus/callee/MyServiceCallee.java</td>
<td>universAAL Tutorials Service Bus Callee</td>
<td>40</td></tr>
<tr class="b">
<td>org/universAAL/tutorials/service/bus/tryout/MyServiceCallee.java</td>
<td>universAAL Tutorials Service Bus Tryout</td>
<td>38</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>public class MyServiceCallee extends ServiceCallee {

    // URI for the service
    public static String SERVICE_TURN_ON = &quot;urn:org.universAAL.tutorial:tut.callee#srvTurnOn&quot;;

    // URI for an input parameter: we expect the URI of a LightActuator as a
    // parameter identified by this URI
    public static String INPUT_LIGHT_URI = &quot;urn:org.universAAL.tutorial:tut.callee#inLampURI&quot;;

    /**
     * Create the service profile that describes what the service does.
     * 
     * @return an array of service profiles.
     */
    public static ServiceProfile[] getProfiles() {
	// Create a device service. Subclasses of the class 'Service' are our
	// 'entry points' in the ontology. Starting from this class we go along
	// some property path and describe what we do, return, or expect at that
	// path.
	// A service can
	// - do something: add, change, or remove a property
	// - return something
	// - expect something: an input parameter that the caller has to provide

	// In this tutorial, we create a service that can turn on a light
	// source (= setting the value of a LightActuator to 100%)
	Service turnOn = new DeviceService(SERVICE_TURN_ON);

	// We add a filtering input: at the path 'controls' we expect exactly
	// one parameter of type LightActuator. When the service is called, we
	// can query this parameter with the URI 'INPUT_LIGHT_URI'
	turnOn.addFilteringInput(INPUT_LIGHT_URI, LightActuator.MY_URI, 1, 1,
		new String[] { DeviceService.PROP_CONTROLS });
	// We add a change effect: at the path 'controls-hasValue' the service
	// can change the value to 100
	turnOn.getProfile().addChangeEffect(
		new String[] { DeviceService.PROP_CONTROLS,
			ValueDevice.PROP_HAS_VALUE }, new Integer(100));

	// We can create more profiles here and return everything in an array.
	// Please note that there is a difference between
	// - registering one calle with multiple profiles, and
	// - registering multiple callees, each with one profile
	// See also the section on service bus details in the Wiki
	return new ServiceProfile[] { turnOn.getProfile() };
    }

    public MyServiceCallee(ModuleContext context) {
	// The constructor register us to the service bus for some profiles
	super(context, getProfiles());
    }

    /** @see ServiceCallee#handleCall(ServiceCall) */
    public ServiceResponse handleCall(ServiceCall call) {
	// If we have registered multiple profiles, we can distinguish the
	// service by comparing the service URI with the process URI
	String operation = call.getProcessURI();
	if (operation.startsWith(SERVICE_TURN_ON)) {
	    // Get the parameter
	    Object input = call.getInputValue(INPUT_LIGHT_URI);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/servbus/GUIPanel.java</td>
<td>universAAL Samples Service bus tester</td>
<td>135</td></tr>
<tr class="b">
<td>org/universAAL/samples/servbus/GUIPanel.java</td>
<td>universAAL Samples Service bus tester</td>
<td>188</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>    private void sendButton1ActionPerformed(ActionEvent evt) {
	this.label1p1.setText(&quot;Delay: &quot;);
	int siz = 0;
	try {
	    siz = Integer.parseInt(this.text1p1.getText());
	} catch (Exception e) {
	    this.label1p1.setText(&quot;Invalid size of burst&quot;);
	    return;
	}
	ServiceRequest srq = null;
	switch (this.combo1p1.getSelectedIndex()) {
	case 0:
	    srq = getGETLAMPSrequest();
	    break;
	case 1:
	    srq = getGETLAMPINFOrequest();
	    break;
	case 2:
	    srq = getSETreqest(100);
	    break;
	case 3:
	    srq = getSETreqest(0);
	    break;
	case 4:
	    srq = getSETreqest(50);
	    break;
	default:
	    break;
	}
	long t0 = System.currentTimeMillis();
	for (int i = 0; i &lt; siz; i++) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/CPublisher.java</td>
<td>universAAL Samples Context bus tester for Android</td>
<td>65</td></tr>
<tr class="b">
<td>org/universAAL/samples/ctxtbus/CPublisher.java</td>
<td>universAAL Samples Context bus tester</td>
<td>67</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>		+ &quot;TestMassAndContextProvider&quot;);
	cpinfo.setType(ContextProviderType.gauge);
	cpinfo.setProvidedEvents(new ContextEventPattern[] { new ContextEventPattern() });
	return cpinfo;
    }

    public void communicationChannelBroken() {
	// TODO Auto-generated method stub

    }

    public long sendBurst(int size) {
	Random r = new Random();
	long t0 = System.currentTimeMillis();
	for (int i = 0; i &lt; size; i++) {
	    this.publish(sampleEvents[r.nextInt(samples)]);
	}
	long t1 = System.currentTimeMillis();
	return t1 - t0;
    }

    // to send burst of event with unique URIs (for CHe)
    // may introduce more delay
    public long sendUniqueBurst(int size) {
	Random r = new Random();
	long t0 = System.currentTimeMillis();
	for (int i = 0; i &lt; size; i++) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/ontology/lighting/simple/LightingInterface.java</td>
<td>universAAL Samples AAPI Simplified Lighting Ontology</td>
<td>48</td></tr>
<tr class="b">
<td>org/universAAL/ontology/lighting/simple/LightingInterfaceLevel1.java</td>
<td>universAAL Samples AAPI Simplified Lighting Ontology</td>
<td>50</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>		    Lighting.PROP_CONTROLS, Resource.uAAL_VOCABULARY_NAMESPACE + &quot;hasLocation&quot; }) })
    public Object[] getLampInfo(
	    @Input(name = &quot;lampURI&quot;, propertyPaths = { Lighting.PROP_CONTROLS }) LightSource lamp);

    @ServiceOperation
    @ChangeEffect(propertyPaths = { Lighting.PROP_CONTROLS, LightSource.PROP_SOURCE_BRIGHTNESS },
	    value = &quot;0&quot;, valueType = Integer.class)
    public void turnOff(
	    @Input(name = &quot;lampURI&quot;, propertyPaths = { Lighting.PROP_CONTROLS }) LightSource lamp);

    @ServiceOperation
    @ChangeEffect(propertyPaths = { Lighting.PROP_CONTROLS, LightSource.PROP_SOURCE_BRIGHTNESS },
	    value = &quot;100&quot;, valueType = Integer.class)
    public void turnOn(
	    @Input(name = &quot;lampURI&quot;, propertyPaths = { Lighting.PROP_CONTROLS }) LightSource lamp);
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/samples/activityhub/client/ActivityHubClient.java</td>
<td>universAAL Samples Activity Hub Client</td>
<td>64</td></tr>
<tr class="b">
<td>org/universAAL/lddi/samples/device/client/DeviceClient.java</td>
<td>universAAL Samples Device Client</td>
<td>60</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	private Activator myParent;
	private static JFrame frame;
	private static ListModel jListModel = new DefaultComboBoxModel(new Object[] { &quot;Init...&quot; });
	static private JList jList1 = new JList(jListModel);
	private static JScrollPane jsp0 = new JScrollPane(jList1);
//	private static JTextArea deviceArea = new JTextArea();
	private static JTextArea deviceInfoArea = new JTextArea();
	private static JScrollPane jsp1 = new JScrollPane(deviceInfoArea);
	private static JTextArea contextArea = new JTextArea();
	private static JScrollPane jsp2 = new JScrollPane(contextArea);
	private static JTextArea logArea = new JTextArea();
	private static JScrollPane jsp3 = new JScrollPane(logArea);
	private static JLabel label1;
	private static JLabel label2;
	private static JLabel label3;
	private static JLabel label4;
	private JButton infoButton;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/manager/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (unix OS version)</td>
<td>131</td></tr>
<tr class="b">
<td>org/universAAL/lddi/manager/win/gui/GUI.java</td>
<td>universAAL Samples LDDI Continua Manager Client (windows OS version)</td>
<td>131</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>		setBounds(100,100,450,325);
		setTitle(&quot;uAAL Continua manager client&quot;);
		getContentPane().setLayout(new BorderLayout());
		// Main panel (content pane)
		mainPanel = createJPanel();
		getContentPane().add(mainPanel,BorderLayout.CENTER);
		// Create and add components
		createComponents();	
		// Show		
		setVisible(true);
	}	
	
	/** Create components */
	public void createComponents() {
		// Label (uaal image icon)
		uaalLogoLabel = new JLabel(&quot;&quot;);
		uaalLogoLabel.setIcon(new ImageIcon(ctx.getBundle().getResource(uaalLogoImage)));
		uaalLogoLabel.setBounds(75,10,300,81);
		mainPanel.add(uaalLogoLabel);
		// Radio buttons group
		radiobuttonPanel = new JPanel();	
		radiobuttonPanel.setLayout(new GridLayout(1,0));
		radiobuttonPanel.setBounds(20,100,400,50);		</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/samples/activityhub/client/MyActivityHubContextListener.java</td>
<td>universAAL Samples Activity Hub Client</td>
<td>87</td></tr>
<tr class="b">
<td>org/universAAL/lddi/samples/device/client/DeviceContextListener.java</td>
<td>universAAL Samples Device Client</td>
<td>87</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>		LogUtils.logInfo(Activator.mc, MyActivityHubContextListener.class,
			&quot;handleContextEvent&quot;, new Object[] {
			&quot;\n*****************************\n&quot;,
			&quot;Received context event:\n&quot;, &quot;    Subject     = &quot;,
			event.getSubjectURI(), &quot;\n&quot;, &quot;    Subject type= &quot;,
			event.getSubjectTypeURI(), &quot;\n&quot;, &quot;    Predicate   = &quot;,
			event.getRDFPredicate(), &quot;\n&quot;, &quot;    Object      = &quot;,
			event.getRDFObject() } , null);

		String[] log = new String[] {	
				&quot;************ Last received context event: &quot; +
				dfm.format(new Date(System.currentTimeMillis())),
				&quot;  Subject     = &quot; + event.getSubjectURI(),
				&quot;  Subject type= &quot; + event.getSubjectTypeURI(),
				&quot;  Predicate   = &quot; + event.getRDFPredicate(),
				&quot;  Object      = &quot; + event.getRDFObject() };
		
		this.ahc.showContextEvent( log );</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/lddi/samples/activityhub/client/ActivityHubClient.java</td>
<td>universAAL Samples Activity Hub Client</td>
<td>89</td></tr>
<tr class="b">
<td>org/universAAL/lddi/samples/device/client/DeviceClient.java</td>
<td>universAAL Samples Device Client</td>
<td>90</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	public ActivityHubClient(Activator parent) {
		super();
		this.myParent = parent; 
		initGUI();
		start();
	}

	private void initGUI() {
		try {
			setPreferredSize(new Dimension(1000, 800));
			this.setLayout(null);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	// create the GUI 
	public void start(){

		frame = new JFrame();
		frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE); // doesn't stop the whole framework on close
		frame.pack();
		frame.setSize(1000, 800);
		frame.setVisible(true);
		frame.getContentPane().setLayout(null);
		frame.setTitle(&quot;ActivityHub Client Example&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>506</td></tr>
<tr class="b">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>530</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	req.addTypeFilter(new String[]{ProfilingService.PROP_CONTROLS,Profilable.PROP_HAS_PROFILE,Profile.PROP_HAS_SUB_PROFILE}, PersonalInformationSubprofile.MY_URI);
	req.addRequiredOutput(OUTPUT_GETSUBPROFILES, new String[]{ProfilingService.PROP_CONTROLS,Profilable.PROP_HAS_PROFILE,Profile.PROP_HAS_SUB_PROFILE});
	ServiceResponse resp=caller.call(req);
	if (resp.getCallStatus() == CallStatus.succeeded) {
//	    Object out=getReturnValue(resp.getOutputs(),OUTPUT_GETSUBPROFILES);
	    Object out=resp.getOutput(OUTPUT_GETSUBPROFILES,true);
	    if (out != null) {
		log.debug(out.toString());
		return out.toString();
	    } else {
		log.debug(&quot;NOTHING!&quot;);
		return &quot;nothing&quot;;
	    }
	}else{
	    return resp.getCallStatus().name();
	}
    }
    
    private String getSubprofiles(UserProfile profile) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>368</td></tr>
<tr class="b">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>480</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	req.addValueFilter(new String[]{ProfilingService.PROP_CONTROLS,Profilable.PROP_HAS_PROFILE}, profile);
	req.addRequiredOutput(OUTPUT_GETPROFILE, new String[]{ProfilingService.PROP_CONTROLS,Profilable.PROP_HAS_PROFILE});
	ServiceResponse resp = caller.call(req);
	if (resp.getCallStatus() == CallStatus.succeeded) {
//	    Object out=getReturnValue(resp.getOutputs(),OUTPUT_GETPROFILE);
	    Object out=resp.getOutput(OUTPUT_GETPROFILE,true);
	    if (out != null) {
		log.debug(out.toString());
		return out.toString();
	    } else {
		log.debug(&quot;NOTHING!&quot;);
		return &quot;nothing&quot;;
	    }
	}else{
	    return resp.getCallStatus().name();
	}
    }
    
    //:::::::::::::SUBPROFILE GET/ADD/CHANGE/REMOVE:::::::::::::::::
    private String removeSubProfile(SubProfile profile) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/SpaceCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>504</td></tr>
<tr class="b">
<td>org/universAAL/samples/ctxtbus/SpaceCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>541</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre> 	req.addValueFilter(new String[]{ProfilingService.PROP_CONTROLS}, aalService);
	req.addRequiredOutput(OUTPUT, new String[]{ProfilingService.PROP_CONTROLS,Profilable.PROP_HAS_PROFILE});
 	ServiceResponse resp=caller.call(req);
 	if (resp.getCallStatus() == CallStatus.succeeded) {
// 	    Object out=getReturnValue(resp.getOutputs(),OUTPUT);
 	   Object out=resp.getOutput(OUTPUT,true);
 	    if (out != null) {
 		log.debug(out.toString());
 		return out.toString();
 	    } else {
 		log.debug(&quot;NOTHING!&quot;);
 		return &quot;nothing&quot;;
 	    }
 	}else{
 	    return resp.getCallStatus().name();
 	}
    }

    private String addServprofToServ(AALService aalService,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/context/reasoner/client/gui/QueryCreatorFrame.java</td>
<td>universAAL Samples Context Situation Reasoner Test Client</td>
<td>283</td></tr>
<tr class="b">
<td>org/universAAL/samples/context/reasoner/client/gui/RuleCreatorFrame.java</td>
<td>universAAL Samples Context Situation Reasoner Test Client</td>
<td>150</td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>	c.weightx = 1.0;
	c.fill = GridBagConstraints.HORIZONTAL;
	Box footerBox = Box.createHorizontalBox();
	this.getContentPane().add(footerBox, c);
	footerBox.add(Box.createHorizontalGlue());
	saveCheck = new JCheckBox(&quot;Save permanent: &quot;);
	saveCheck.setSelected(true);
	footerBox.add(saveCheck);
	footerBox.add(Box.createHorizontalStrut(50));
	JButton addButton = new JButton(&quot;Add&quot;);
	addButton.setPreferredSize(new Dimension(80, 30));
	addButton.addActionListener(new ActionListener() {
	    public void actionPerformed(ActionEvent e) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>239</td></tr>
<tr class="b">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>507</td></tr>
<tr class="a">
<td>org/universAAL/samples/ctxtbus/ProfileCaller.java</td>
<td>universAAL Samples Context bus tester</td>
<td>531</td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>	req.addSimpleOutputBinding(po, new String[]{ProfilingService.PROP_CONTROLS,Profilable.PROP_HAS_PROFILE,Profile.PROP_HAS_SUB_PROFILE});
	ServiceResponse resp=caller.call(req);
	if (resp.getCallStatus() == CallStatus.succeeded) {
//	    Object out=getReturnValue(resp.getOutputs(),OUTPUT_GETSUBPROFILES);
	    Object out=resp.getOutput(OUTPUT_GETSUBPROFILES,true);
	    if (out != null) {
		log.debug(out.toString());
		return out.toString();
	    } else {
		log.debug(&quot;NOTHING!&quot;);
		return &quot;nothing&quot;;
	    }
	}else{
	    return resp.getCallStatus().name();
	}
    }

    //:::::::::::::PROFILABLE GET/ADD/CHANGE/REMOVE:::::::::::::::::
    private String removeProfilable(Resource profilable) {</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    ${currentYear}
                        <a href="http://www.universAAL.org/">universAAL Consortium</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
